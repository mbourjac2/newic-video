export const handleMap = () => {
  const mapContainer = document.querySelector('#map');

  if (!mapContainer) return;

  const ORIGIN = [45.76599884033203, 4.8680009841918945];
  const map = L.map('map').setView(ORIGIN, 16);

  L.tileLayer(
    'https://tile.jawg.io/jawg-light/{z}/{x}/{y}{r}.png?access-token={accessToken}',
    {
      attribution:
        '<a href="https://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
      minZoom: 0,
      maxZoom: 22,
      accessToken:
        'vcyy54vu61LW8vE9K6lXIsztd4lZL4I23dN84uE9KvlNHbxkpKLwUl6QcmDbmzD3',
    },
  ).addTo(map);

  const svgIcon = L.divIcon({
    html: `
    <svg width="48" height="60" viewBox="0 0 48 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="24" cy="24" r="22" fill="white"/>
      <path fill-rule="evenodd" clip-rule="evenodd" d="M48 24C48 46.8544 24 60 24 60C24 60 0 46.8544 0 24C0 17.6348 2.52856 11.5303 7.02944 7.02944C11.5303 2.52856 17.6348 0 24 0C30.3652 0 36.4697 2.52856 40.9706 7.02944C45.4714 11.5303 48 17.6348 48 24ZM43.2 24C43.2 34.6039 34.6039 43.2 24 43.2C13.3961 43.2 4.8 34.6039 4.8 24C4.8 13.3961 13.3961 4.8 24 4.8C34.6039 4.8 43.2 13.3961 43.2 24ZM37.1528 28.3277C37.1633 28.3914 37.1739 28.455 37.1739 28.5186C37.269 29.1868 37.1 29.8497 36.6985 30.3853C36.6701 30.4203 36.6397 30.4514 36.6097 30.4822C36.5896 30.5028 36.5697 30.5232 36.5507 30.5444C36.5401 30.5551 36.5401 30.571 36.5401 30.571L33.8781 33.7742C33.4767 34.2674 32.9116 34.5909 32.2884 34.681C32.1986 34.6969 32.1141 34.7075 32.0243 34.7075C31.9292 34.7234 31.8289 34.7234 31.7338 34.7234C31.1 34.7234 30.5349 34.5272 30.0912 34.1454C29.5842 33.7158 29.2778 33.0794 29.2092 32.3104C29.1827 32.1779 29.1827 32.0453 29.1827 31.9074L28.2056 33.1378C28.1845 33.1643 28.1528 33.1855 28.1159 33.1855L26.2039 33.3605C26.1616 33.3605 26.1194 33.3499 26.093 33.3181L21.7303 28.5822L21.9099 30.5551V30.5657C21.9099 30.5975 21.8835 30.6505 21.8835 30.6505L19.1318 33.9598C19.1106 33.9863 19.0789 34.0075 19.042 34.0075L13.5702 34.506H13.5596C13.4909 34.506 13.4328 34.453 13.4276 34.384L11.7797 16.1036C11.7797 16.0717 11.7903 16.0346 11.8114 16.0081L14.5578 12.6935C14.579 12.667 14.6054 12.6511 14.6371 12.6511H14.6476L19.6705 12.195C19.7127 12.195 19.755 12.2056 19.7814 12.2374L24.1863 17.0051L24.0067 14.9899C24.0067 14.958 24.0173 14.9209 24.0384 14.8944L26.7849 11.5851C26.806 11.5586 26.8324 11.5427 26.8641 11.5427H26.8747L32.3306 11.0442C32.3993 11.0389 32.4679 11.0919 32.4732 11.1662L33.7408 25.0131V25.0237C33.7408 25.0449 33.7355 25.0608 33.725 25.082C33.7227 25.0867 33.7214 25.0913 33.7202 25.0955C33.7187 25.1009 33.7174 25.1056 33.7144 25.1086V25.1139L30.8887 28.4178C30.8782 28.6087 30.8782 28.805 30.894 29.0065L32.5102 27.0602C32.5155 27.0549 32.526 27.0549 32.526 27.0549C32.5445 27.0337 32.5643 27.0125 32.5841 26.9912C32.6039 26.97 32.6237 26.9488 32.6422 26.9276V26.9117C32.6528 26.8958 32.6686 26.8799 32.6898 26.8693C32.7267 26.8321 32.769 26.7897 32.8112 26.7526V26.742C32.8165 26.742 32.8218 26.7367 32.8218 26.7367H32.8377C32.8614 26.7181 32.8852 26.7009 32.909 26.6836C32.9327 26.6664 32.9565 26.6492 32.9803 26.6306C32.9829 26.628 32.9842 26.624 32.9855 26.62C32.9869 26.616 32.9882 26.6121 32.9908 26.6094C32.9961 26.5988 33.0014 26.5988 33.0014 26.5988H33.0225C33.0401 26.587 33.0576 26.5746 33.0754 26.5619C33.1059 26.5403 33.1371 26.5181 33.1704 26.498H33.1757C33.181 26.4927 33.1968 26.4874 33.1968 26.4874H33.2127C33.2408 26.4697 33.269 26.4568 33.2972 26.4438C33.3113 26.4373 33.3253 26.4309 33.3394 26.4238C33.35 26.4132 33.3711 26.3973 33.3711 26.3973L33.4186 26.3761H33.4398C33.4556 26.369 33.4715 26.3613 33.4873 26.3537C33.519 26.3383 33.5507 26.323 33.5824 26.3124C33.6193 26.3018 33.651 26.2912 33.6827 26.2806H33.7038C33.7266 26.2715 33.7532 26.2663 33.777 26.2616C33.7809 26.2609 33.7847 26.2601 33.7884 26.2594C33.7989 26.2541 33.8148 26.2382 33.8148 26.2382C33.8887 26.217 33.9732 26.201 34.0524 26.1904C34.1422 26.1745 34.232 26.1639 34.3218 26.1639C35.6845 25.9783 36.9626 26.9436 37.1528 28.3277ZM34.6545 26.4026C34.5489 26.4026 34.4486 26.4079 34.3429 26.4238L34.3482 26.4397C34.2531 26.4397 34.1739 26.4503 34.0947 26.4609C33.5137 26.5458 33.0225 26.8587 32.6845 27.2882C32.6105 27.3784 32.5524 27.4738 32.4996 27.5693C32.4785 27.5958 32.4574 27.6276 32.4415 27.6595C32.3834 27.7761 32.3359 27.8981 32.2989 28.0201C32.2965 28.0298 32.2919 28.0384 32.2875 28.0464C32.2824 28.0559 32.2778 28.0645 32.2778 28.0731C32.2408 28.2163 32.2144 28.3595 32.2039 28.508V28.5133C32.1933 28.6618 32.1986 28.8156 32.2197 28.9694C32.3517 30.396 33.3658 31.2657 34.7602 31.1384C34.8447 31.1384 34.9239 31.1278 35.0031 31.1172C35.1405 31.096 35.2778 31.0589 35.4045 31.0164C35.431 31.0058 35.4574 30.9939 35.4838 30.982C35.5102 30.97 35.5366 30.9581 35.563 30.9475C35.6369 30.9157 35.7056 30.8839 35.7743 30.8467C35.8324 30.8149 35.8852 30.7778 35.938 30.7407C36.0014 30.6982 36.0595 30.6558 36.1176 30.6081C36.1651 30.5657 36.2127 30.5232 36.2549 30.4808C36.3394 30.4013 36.4186 30.3164 36.4873 30.2262C36.8464 29.7436 36.9943 29.1497 36.9098 28.5504V28.5398C36.9098 28.4762 36.9045 28.4178 36.894 28.3595C36.7355 27.2246 35.7637 26.4026 34.6545 26.4026ZM27.7144 21.1735C27.6828 21.1735 27.6299 21.1364 27.6299 21.1364H27.6352L19.6335 12.4655L14.8061 12.9057L16.4275 30.9051L21.6405 30.4331L20.8113 21.2318C20.806 21.1735 20.8377 21.1205 20.8905 21.0993C20.9434 21.0781 21.0067 21.0887 21.0437 21.1311L29.0032 29.7702L30.6986 29.6164C30.6933 29.6058 30.6933 29.5899 30.6933 29.5792C30.6909 29.568 30.6885 29.5569 30.6861 29.5459C30.6728 29.484 30.66 29.4248 30.651 29.3618V29.3512C30.6458 29.3114 30.6392 29.2717 30.6326 29.2319C30.626 29.1921 30.6194 29.1523 30.6141 29.1126V29.0966C30.6035 28.9747 30.5982 28.8527 30.5982 28.736V28.6512C30.6008 28.6041 30.6022 28.5584 30.6035 28.5133C30.6048 28.4669 30.6061 28.4211 30.6088 28.3754V28.3648C30.6194 28.1845 30.6458 28.0095 30.6827 27.8398C30.688 27.8159 30.6933 27.7908 30.6986 27.7656C30.7039 27.7404 30.7091 27.7152 30.7144 27.6913C30.7514 27.5481 30.7937 27.4049 30.8465 27.267C30.8729 27.1981 30.8993 27.1344 30.9257 27.0708C30.9785 26.9488 31.0419 26.8321 31.1053 26.7155C31.1422 26.6465 31.1845 26.5829 31.2267 26.5192C31.2848 26.4291 31.3482 26.3389 31.4169 26.2541C31.4697 26.1798 31.5278 26.1109 31.5912 26.0472C31.6651 25.9677 31.7391 25.8935 31.8183 25.8192C31.8711 25.7662 31.9292 25.7184 31.9873 25.6707C32.0929 25.5912 32.2039 25.5116 32.3201 25.4374C32.3412 25.4241 32.361 25.4109 32.3808 25.3976C32.4006 25.3843 32.4204 25.3711 32.4415 25.3578C32.5841 25.273 32.732 25.1987 32.8905 25.1351C32.909 25.1271 32.9274 25.1205 32.9459 25.1139C32.9644 25.1072 32.9829 25.1006 33.0014 25.0927C33.144 25.0343 33.2919 24.9866 33.445 24.9442L32.2144 11.3147L27.0226 11.7867L27.8571 21.0303C27.8623 21.0887 27.8306 21.1417 27.7778 21.1629C27.762 21.1735 27.7409 21.1735 27.725 21.1735H27.7144Z" fill="#081B2B"/>
    </svg>`,
    className: '',
    iconSize: [48, 60],
    iconAnchor: [24, 60],
  });

  L.marker(ORIGIN, { icon: svgIcon }).addTo(map);
};
